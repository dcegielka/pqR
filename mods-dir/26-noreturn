Mark error procs as "noreturn" if possible, either with C11
facility or the gcc attribute.  Similar thing done in 3.0.1, 
but only for gcc.

Changed numerous bits of code where things were done only
to avoid warnings due to nonreturn when -Wall used.  Also
did a few other cleanups (eg, removing unused variables).
